[gd_scene load_steps=8 format=3 uid="uid://cuetud0t0qbmu"]

[ext_resource type="Script" path="res://Scripts/player.gd" id="1_0of0w"]
[ext_resource type="Script" path="res://Scripts/camera.gd" id="2_4lsx5"]
[ext_resource type="Script" path="res://Scripts/flashlight.gd" id="3_spdpr"]
[ext_resource type="Script" path="res://Scripts/raycast.gd" id="4_41qjs"]
[ext_resource type="AudioStream" uid="uid://cfnbjehagmux5" path="res://Sounds/flashlight_on.mp3" id="4_y87ig"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_oy7k2"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_741eb"]
radial_segments = 14

[node name="Player" type="CharacterBody3D"]
collision_layer = 3
collision_mask = 3
script = ExtResource("1_0of0w")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_oy7k2")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
visible = false
cast_shadow = 0
mesh = SubResource("CapsuleMesh_741eb")

[node name="head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.539358, 0)
script = ExtResource("2_4lsx5")

[node name="flashlight" type="SpotLight3D" parent="head"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.5)
visible = false
light_energy = 1.5
light_specular = 0.0
shadow_enabled = true
shadow_normal_bias = 0.0
shadow_reverse_cull_face = true
shadow_transmittance_bias = 1.01
distance_fade_enabled = true
spot_range = 15.0
spot_angle = 40.0
script = ExtResource("3_spdpr")

[node name="toggle" type="AudioStreamPlayer3D" parent="head/flashlight"]
stream = ExtResource("4_y87ig")

[node name="Camera3D" type="Camera3D" parent="head"]

[node name="RayCast3D" type="RayCast3D" parent="head"]
transform = Transform3D(1.58, 0, 0, 0, -6.9064e-08, -1.58, 0, 1.58, -6.9064e-08, 0, 0, 0)
collision_mask = 3
script = ExtResource("4_41qjs")

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.515116, 0)
light_color = Color(0.629675, 0.629675, 0.629675, 1)
light_energy = 0.4
omni_range = 2.06682
